<script setup lang="ts">
import { computed } from "vue";
import KmvvCard from "@/components/KmvvCard.vue";

interface Article {
    title: string;
    date: string;
    text: string;
    image?: string;
}

const articles: Article[] = [
    {
        title: "Le Krav Maga â€“ Pourquoi, comment ?",
        date: "2025-09-07",
        text: `Le Krav Maga est une mÃ©thode de self-dÃ©fense intuitive, construite autour des rÃ©flexes naturels du corps humain.

Dans un contexte oÃ¹ la violence progresse, il devient essentiel de savoir rÃ©agir face Ã  des situations conflictuelles avec calme, luciditÃ© et efficacitÃ©.

Lâ€™objectif nâ€™est pas de vous transformer en guerrier, mais de vous permettre avant tout de :

- renforcer votre confiance en vous,
- apprendre Ã  gÃ©rer le stress dâ€™une agression,
- dÃ©velopper des automatismes simples et efficaces.

Accessible Ã  toutes et Ã  tous, le Krav Maga se pratique dans une ambiance bienveillante et familiale, oÃ¹ chacun progresse Ã  son rythme.

Venez dÃ©couvrir une discipline qui vous apportera autant sur le plan physique que mental.`,
    },
    {
        title: "ğŸ”¥ Ã‰vÃ©nement spÃ©cial : JournÃ©e dÃ©couverte gratuite",
        date: "2025-09-19",
        text: `Samedi 29 novembre 2025 de 9h30 Ã  12h00 Venez dÃ©couvrir le Krav Maga gratuitement et laissez-vous guider par Julien, notre instructeur passionnÃ© et bienveillant. 
        Il saura vous mettre en confiance et rÃ©vÃ©ler le meilleur de vous-mÃªme !
        
        ğŸ“© Contact : kmvv38113@gmail.com 
        
        ğŸ’Œ RÃ©servez votre place dÃ¨s maintenant ! Envoyez-nous simplement un mail avec votre nom et prÃ©nom Ã  lâ€™adresse ci-dessus 
        et rejoignez-nous pour cette journÃ©e exceptionnelle. Les places sont limitÃ©es, ne tardez pas !`,
    },
    //{
    //    title: "Test",
    //    date: "2025-09-08",
    //    text: "Les cours reprennent dÃ¨s le 1er septembre. Venez nombreux !",
    //    image: "/Pictures/Capture dâ€™Ã©cran du 2025-07-17 15-32-13.png",
    //},
    // {
    //     title: "AssemblÃ©e GÃ©nÃ©rale de lâ€™association",
    //     date: "2025-07-10",
    //     text: "Un grand merci aux participants ! Retrouvez le compte-rendu dans lâ€™espace membres.",
    // },
];

const sortedArticles = computed(() =>
    [...articles].sort(
        (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()
    )
);
</script>

<template>
    <!-- Hero section -->
    <section class="text-center py-5">
        <div class="container">
            <h1 class="display-5 fw-bold">Krav Maga Veurey-Voroize</h1>
            <img src="/Pictures/kmvv_logo.png" alt="Krav Maga Veurey-Voroize" style="max-height: 150px;">
            <p class="lead">Self-dÃ©fense rÃ©aliste pour tous Â· Saison 2025â€“2026</p>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center mt-3">
                <RouterLink to="/contact" class="btn btn-primary btn-lg px-4">S'inscrire</RouterLink>
                <RouterLink to="/planning" class="btn btn-outline-secondary btn-lg px-4">Voir le planning</RouterLink>
            </div>
        </div>
    </section>

    <!-- Actus section -->
    <section class="py-5">
        <div class="container">
            <h2 class="mb-5 text-center">ActualitÃ©s</h2>
            <div class="row justify-content-center g-4">
                <div class="col-12 col-md-10 col-lg-8" v-for="(article, index) in sortedArticles" :key="index">
                    <KmvvCard :title="article.title" :text="article.text" :image="article.image" :date="article.date">
                    </KmvvCard>
                </div>
            </div>
        </div>
    </section>
</template>
